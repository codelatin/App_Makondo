{% load static %}

<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Makondo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="{% static 'css/estilos.css' %}">
  <link rel="icon" href="{% static 'img/makondo.ico' %}" type="image/x-icon">
  <script src="https://unpkg.com/lottie-web@5.9.6/build/player/lottie.min.js"></script>

</head>
<body >

    <!-- CABECERA STICKY -->
    <div class="container py-5 text-center">
      <div class="d-flex justify-content-center mb-3">
        <img src="{% static 'img/makondo.png' %}" alt="Logo Makondo" class="img-fluid logo-animado" style="width: 120px; height: auto;">

      </div>
    
      <h2 class="text-white fw-bold mb-3">
        🎧 Audios disponibles para tus <span class="text-info">creaciones audiovisuales</span>
      </h2>
    
      <p class="text-light mb-4">Explora más de 200 archivos de sonido libres para tus proyectos multimedia.</p>
    
      <form method="get" class="d-flex justify-content-center">
        <div class="input-group w-75 w-md-50 shadow">
          <input type="text" name="q" class="form-control rounded-start" placeholder="Buscar por título o género" value="{{ q }}">
          <button type="submit" class="btn btn-dark rounded-end">
            🔍 Buscar
          </button>
        </div>
      </form>
    </div>
    
        
     {% for audio in audios %}
     <div class="audio-item row align-items-center mb-4 p-3 shadow-sm rounded bg-light">
      <div class="col-md-4 text-center mb-3 mb-md-0">
        <img src="{{ audio.imagen.url }}" class="img-fluid rounded audio-thumb" alt="Imagen de {{ audio.titulo }}">
      </div>
    
      <div class="col-md-8">
        <h5 class="mb-2">{{ audio.titulo }}</h5>
        <div class="audio-meta text-muted small mb-2">
          <p>🎤 <strong>Intérprete:</strong> {{ audio.interprete }}</p>
          <p>📝 <strong>Compositor:</strong> {{ audio.compositor }}</p>
          <p>🎼 <strong>Género:</strong> {{ audio.genero }}</p>
          <p>📊 <strong>Derechos Autor:</strong> {{ audio.derechos_autor }}</p>
        </div>
    
        <audio controls class="audio-player w-100">
          <source src="{{ audio.archivo.url }}" type="audio/mpeg">
          Tu navegador no soporta el reproductor de audio.
        </audio>
      </div>
    </div>
    
        {% endfor %}
    
          
          
    <!-- Paginación -->
    {% if is_paginated %}
<nav>
  <ul class="pagination justify-content-center mt-4">
    {% if page_obj.has_previous %}
      <li class="page-item">
        <a class="page-link" href="?{% if request.GET.genero %}genero={{ request.GET.genero }}&{% endif %}page={{ page_obj.previous_page_number }}">
          ⬅️ Anterior
        </a>
      </li>
    {% endif %}

    <li class="page-item disabled">
      <a class="page-link">Página {{ page_obj.number }} de {{ page_obj.paginator.num_pages }}</a>
    </li>

    {% if page_obj.has_next %}
      <li class="page-item">
        <a class="page-link" href="?{% if request.GET.genero %}genero={{ request.GET.genero }}&{% endif %}page={{ page_obj.next_page_number }}">
          Siguiente ➡️
        </a>
      </li>
    {% endif %}
  </ul>
</nav>
{% endif %}

  <script>
 
   
    document.addEventListener("DOMContentLoaded", function () {
    const btn = document.getElementById('whatsapp-float');
    
    // Mostrar siempre después de un pequeño delay para que se vea la animación
    setTimeout(() => {
      btn.classList.add('show');
    }, 300);
  });

  </script>
       <!-- Botón con animación -->
<!-- Botón flotante de WhatsApp con texto adaptable 
<a href="https://wa.me/573105067238" 
   class="btn-whatsapp-float d-flex align-items-center" 
   id="whatsapp-float" 
   target="_blank">

  <img src="{% static 'img/logo.png' %}" alt="WhatsApp" width="34" class="me-2">

  <span class="whatsapp-text d-none d-sm-inline">Contáctanos por WhatsApp</span>
</a>



-->
<a href="https://wa.me/573106667194" 
   target="_blank"
   style="
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: #25D366;
      color: white;
      padding: 10px 15px;
      border-radius: 50px;
      z-index: 1000;
      display: flex;
      align-items: center;
      text-decoration: none;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      animation: fadeIn 0.5s ease-in-out;
   "
   id="whatsapp-float">
   <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" 
        alt="WhatsApp" 
        width="24" 
        style="margin-right: 8px;">
   <span style="font-weight: 500;">Contáctanos por WhatsApp</span>
</a>


</body>
</html>
